# 侦听器+计算属性+vue-cli+vue组件

# 1  侦听器

## 1.1 什么是watch 侦听器

监听属性值和对象的写法不同

![image-20220901172209369](../../图片/image-20220901172209369.png)

## 1.2 使用watch 检测用户名是否可用(监听属性)

![image-20220901172436546](../../图片/image-20220901172436546.png)

## 1.3 immediate 选项(属性值改成对象写法)

![image-20220901172547358](../../图片/image-20220901172547358.png)

## 1.4 deep 选项 (监听对象)

![image-20220901172633218](../../图片/image-20220901172633218.png)

## 1.5 监听对象单个属性的变化

![image-20220902003915952](../../图片/image-20220902003915952.png)

# ==2 计算属性==

## 2.1 什么是计算属性

![image-20220902150023165](../../图片/image-20220902150023165.png)

![image-20220902150149023](../../图片/image-20220902150149023.png)

![image-20220902150228059](../../图片/image-20220902150228059.png)

参考案例

```
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <script src="./lib/vue-2.6.12.js"></script>
  <style>
    .box {
      width: 200px;
      height: 200px;
      border: 1px solid #ccc;
    }
  </style>
</head>

<body>
  <div id="app">
    <div>
      <span>R：</span>
      <input type="text" v-model.number="r">
    </div>
    <div>
      <span>G：</span>
      <input type="text" v-model.number="g">
    </div>
    <div>
      <span>B：</span>
      <input type="text" v-model.number="b">
    </div>
    <hr>

    <!-- 专门用户呈现颜色的 div 盒子 -->
    <!-- 在属性身上，: 代表  v-bind: 属性绑定 -->
    <!-- :style 代表动态绑定一个样式对象，它的值是一个 {  } 样式对象 -->
    <!-- 当前的样式对象中，只包含 backgroundColor 背景颜色 -->
    <div class="box" :style="{ backgroundColor: rgb }">
      {{ rgb }}
    </div>
    <button @click="show">按钮</button>
  </div>

  <script>
    // 创建 Vue 实例，得到 ViewModel
    var vm = new Vue({
      el: '#app',
      data: {
        r: 0,
        g: 0,
        b: 0
      },
      methods: {
        // 点击按钮，在终端显示最新的颜色
        show() {
          console.log(this.rgb)
        }
      },
      // 所有的计算属性，都要定义到 computed 节点之下
      // 计算属性在定义的时候，要定义成“方法格式”
      computed: {
        // rgb 作为一个计算属性，被定义成了方法格式，
        // 最终，在这个方法中，要返回一个生成好的 rgb(x,x,x) 的字符串
        rgb() {
          return `rgb(${this.r}, ${this.g}, ${this.b})`
        }
      }
    });

    console.log(vm)
  </script>
</body>

</html>
```

## 2.2 计算属性的特点

![image-20220902150316910](../../图片/image-20220902150316910.png)

# 3. vue中的axios 使用

## 3.1 基本使用

![image-20220905135953925](../../图片/image-20220905135953925.png)

## 3.2 post请求

![image-20220905141555396](../../图片/image-20220905141555396.png)

## 3.3 get请求

![image-20220905141503677](../../图片/image-20220905141503677.png)

# ==4 vue-cli==

## 4.1 什么是vue-cli

![image-20220902151256097](../../图片/image-20220902151256097.png)

中文官网：https://cli.vuejs.org/zh/

## 4.2 安装和使用  

![image-20220902152007881](../../图片/image-20220902152007881.png)

### 4.2.1 安装

```
#安装全局包
npm install -g @vue/cli  
# 查看安装版本
vue --version  或者 vue -V
```

### 4.2.2 创建项目(vue create)

vue create  用来创建3.X项目, 也可以选择2.X  推荐使用这种

vue init webpack  用来创建2.X项目

```
vue create hello-world
```

![image-20220905195302288](../../图片/image-20220905195302288.png)

上下方向键选择,第一次选择自定义的,其他2个==一键生成==,下面是自定义选择

![image-20220905195418197](../../图片/image-20220905195418197.png)

需要路由就选中 Router  需要ES 就选中Linter/ Formatter

![image-20220905195759331](../../图片/image-20220905195759331.png)

看项目是vue版本决定

![image-20220905195851163](../../图片/image-20220905195851163.png)

选择less

![image-20220905195915560](../../图片/image-20220905195915560.png)

第三方插件放在单独的位置

![image-20220905195955228](../../图片/image-20220905195955228.png)

将配置存储,以后可以用

![image-20220905200144570](../../图片/image-20220905200144570.png)

创建项目完成

![image-20220905200217815](../../图片/image-20220905200217815.png)

运行项目成功

![image-20220905200327667](../../图片/image-20220905200327667.png)

## 4.3 vue 项目的运行流程

![image-20220902155605777](../../图片/image-20220902155605777.png)

## 4.4 Vue 中 $mount()方法和 el属性作用完全一样 

![image-20220907095340505](../../图片/image-20220907095340505.png)

# ==5  vue 组件==

## 5.1 什么是组件化开发

![image-20220907102955182](../../图片/image-20220907102955182.png)

## 5.2 vue 中的组件化开发

![image-20220907103037569](../../图片/image-20220907103037569.png)

## 5.3 vue 组件的三个组成部分

![image-20220907103106971](../../图片/image-20220907103106971.png)

### 5.3.1 template

![image-20220907103139332](../../图片/image-20220907103139332.png)

### 5.3.2 script

![image-20220907103210518](../../图片/image-20220907103210518.png)

#### 5.3.2.1 data必须是函数

![image-20220907103317685](../../图片/image-20220907103317685.png)

![image-20220907103445482](../../图片/image-20220907103445482.png)

### 5.3.3 style

![image-20220907103649329](../../图片/image-20220907103649329.png)

#### 5.3.3.1 让style 中支持less 语法

![image-20220907103819748](../../图片/image-20220907103819748.png)

## 5.4 组件之间的父子关系

![image-20220907104017417](../../图片/image-20220907104017417.png)

### 5.4.1 使用组件的三个步骤

![image-20220907104057589](../../图片/image-20220907104057589.png)

### 5.4.2 通过components 注册的是私有子组件

![image-20220907104131276](../../图片/image-20220907104131276.png)

### 5.4.3 注册全局组件

![image-20220907204908305](../../图片/image-20220907204908305.png)

## 5.5组件的props

这种写法不推荐,建议使用下面那种写法

![image-20220908161615799](../../图片/image-20220908161615799.png)

### 5.5.1 props 是只读的

![image-20220908160040201](../../图片/image-20220908160040201.png)

![image-20220908160955224](../../图片/image-20220908160955224.png)

![image-20220908160936827](../../图片/image-20220908160936827.png)

### 5.5.2 props 的default默认值

![image-20220907205147119](../../图片/image-20220907205147119.png)

### 5.5.3 props 的type值类型

![image-20220908163355111](../../图片/image-20220908163355111.png)

### 5.5.4 props 的required必填项

这代表必须要给init传值，如果不传值就会报错

![image-20220908165029463](../../图片/image-20220908165029463.png)

![image-20220908164959337](../../图片/image-20220908164959337.png)

# 6. 组件之间的样式冲突问题

![image-20220907205317147](../../图片/image-20220907205317147.png)

## 6.1 思考：如何解决组件样式冲突的问题

![image-20220907205426354](../../图片/image-20220907205426354.png)

## 6.2 ==style 节点的scoped 属性==

![image-20220907205518133](../../图片/image-20220907205518133.png)

### 6.3 ==/deep/ 样式穿透==(在父组件修改子组件的样式,或者修改引入的第三方组件的样式)

==上面是 属性选择器  下面是后代选择器==

![image-20220907205635237](../../图片/image-20220907205635237.png)

## 6.4 ==>>> 样式穿透(效果同上)==

![image-20221012230714152](../../图片/image-20221012230714152.png)

wrapper 里面所有 swiper-pagination-bullet-active 标签的样式都变为红色