## 1. 测试类

```java
@RunWith(SpringRunner.class)
@SpringBootTest
public class ServiceRecordTest {
    

    @Autowired
    private ServiceRecordMapper serviceRecordMapper;

    @Test
    public void addTest(){
        ServiceRecord serviceRecord = new ServiceRecord();
        serviceRecord.setCreateTime(new Date());
        serviceRecord.setCompName("南京市名卡111");
        serviceRecord.setServiceContent("服务内容");
        serviceRecord.setDiscount("8");
        serviceRecord.setAliascardNo("111111111111");
        serviceRecord.setCustName("张无忌");
        serviceRecord.setDepartment("销售部");
        serviceRecord.setDeviceId("1450");
        serviceRecord.setRemark("备注");
        int isOk = serviceRecordMapper.insert(serviceRecord);
    }
}
```

## 2. 浏览器判断

```java
import sun.misc.BASE64Encoder;
import java.io.UnsupportedEncodingException;
import java.net.URLEncoder;


public class DownLoadUtils {

    public static String getFileName(String agent, String filename) throws UnsupportedEncodingException {
        if (agent.contains("MSIE")) {
            // IE浏览器
            filename = URLEncoder.encode(filename, "utf-8");
            filename = filename.replace("+", " ");
        } else if (agent.contains("Firefox")) {
            // 火狐浏览器
            BASE64Encoder base64Encoder = new BASE64Encoder();
            filename = "=?utf-8?B?" + base64Encoder.encode(filename.getBytes("utf-8")) + "?=";
        } else {
            // 其它浏览器
            filename = URLEncoder.encode(filename, "utf-8");
        }
        return filename;
    }
}
```

